/**
 * SCROLL FIX FINAL - Solución definitiva
 * Sobrescribe todos los demás estilos
 */

/* RESET: Limpiar todos los conflictos */
.messages-container,
.messages-scroll,
#messages-scroll,
.chat-container .messages-container {
    /* CRITICAL: Basic scroll that works everywhere */
    overflow-y: auto !important;
    overflow-x: hidden !important;
    
    /* HEIGHT: Must have height */
    height: 100% !important;
    max-height: 100% !important;
    
    /* BEHAVIOR: Manual scroll only */
    scroll-behavior: auto !important;
    scroll-snap-type: none !important;
    
    /* CLEAR: Remove transforms that break scroll */
    transform: none !important;
    -webkit-transform: none !important;
    will-change: auto !important;
    
    /* CLEAR: Remove containment */
    contain: none !important;
    
    /* POSITION: Basic positioning */
    position: relative !important;
}

/* MOBILE: Touch scrolling */
@media (max-width: 768px), (pointer: coarse) {
    .messages-container,
    .messages-scroll,
    #messages-scroll,
    .chat-container .messages-container {
        /* MOBILE: Enable touch scrolling */
        -webkit-overflow-scrolling: touch !important;
        touch-action: pan-y !important;
        
        /* MOBILE: Light hardware acceleration only */
        transform: translateZ(0) !important;
        -webkit-transform: translateZ(0) !important;
    }
}

/* SCROLLBAR: Hide on all devices */
.messages-container::-webkit-scrollbar,
.messages-scroll::-webkit-scrollbar,
#messages-scroll::-webkit-scrollbar {
    display: none !important;
    width: 0 !important;
    height: 0 !important;
}

.messages-container,
.messages-scroll,
#messages-scroll {
    scrollbar-width: none !important;
    -ms-overflow-style: none !important;
}

/* CONTAINER: Parent setup */
.chat-container,
.main-content {
    height: 100vh !important;
    display: flex !important;
    flex-direction: column !important;
    overflow: hidden !important;
}

/* MESSAGES AREA: Flexible space */
.messages-area {
    flex: 1 !important;
    min-height: 0 !important;
    position: relative !important;
    overflow: hidden !important;
}

/* INPUT: Fixed at bottom */
.message-input-container,
.chat-input {
    flex-shrink: 0 !important;
    position: sticky !important;
    bottom: 0 !important;
    z-index: 100 !important;
}